---
title: Security baseline assessment methods and properties per device
description: Provides information about the APIs that pull "threat and vulnerability management" data. There are different API calls to get different types of data. In general, each API call contains the requisite data for devices in your organization.
keywords: api, apis, export assessment, per device assessment, per machine assessment, vulnerability assessment report, device vulnerability assessment, device vulnerability report, secure configuration assessment, secure configuration report, software vulnerabilities assessment, software vulnerability report, vulnerability report by machine,
ms.prod: m365-security
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
ms.author: siosulli
author: jweston-1
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.technology: mde
ms.custom: api
---
 
# Export security baselines assessment per device

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

**Applies to:**

- [Microsoft Defender for Endpoint Plan 2](https://go.microsoft.com/fwlink/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> Want to experience Microsoft Defender for Endpoint? [Sign up for a free trial.](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-exposedapis-abovefoldlink)

Returns all of the configurations and their status, on a per-device basis.


There are different API calls to get different types of data. In general, each API call contains the requisite data for devices in your organization.

- **JSON response**  The API pulls all data in your organization as JSON responses. This method is best for _small organizations with less than 100-K devices_. The response is paginated, so you can use the \@odata.nextLink field from the response to fetch the next results.

- **via files** This API solution enables pulling larger amounts of data faster and more reliably. So, it's recommended for large organizations, with more than 100-K devices. This API pulls all data in your organization as download files. The response contains URLs to download all the data from Azure Storage. This API enables you to download all your data from Azure Storage as follows:
  - Call the API to get a list of download URLs with all your organization data.
  - Download all the files using the download URLs and process the data as you like.

Data that is collected using either '_JSON response_ or _via files_' is the current snapshot of the current state. It doesn't contain historic data. To collect historic data, customers must save the data in their own data storages.

> [!NOTE]
> Unless indicated otherwise, all export assessment methods listed are **_full export_** and **_by device_** (also referred to as **_per device_**)

## 1. Export security baselines assessment (JSON response)


### 1.1 API method description

Returns all security baselines assessments for all devices, on a per-device basis. It returns a table with a separate entry for every unique combination of DeviceId, ProfileId, ConfigurationId.

#### 1.1.1 Limitations

#### 1.2 Permissions

### 1.3 URL

```http
GET /api/machines/baselineComplianceAssessmentByMachine
```

### 1.4 Parameters

### 1.5 Properties (JSON response)

Property (ID)|Data type|Description
:---|:---|:---
configurationId|String|Unique identifier for a specific configuration in the baseline benchmark.
profileId|String|Unique identifier for the profile assessed.
deviceId|String|Unique identifier for the device in the service.
deviceName|String|Fully qualified domain name (FQDN) of the device.
isApplicable|Bool|Indicates whether the configuration is applicable to this device.
isCompliant|Bool|Indicates whether the device is compliant with configuration.
id|String|Unique identifier for the record, which is a combination of DeviceId, ProfileId, and ConfigurationId.
osVersion|String|Specific version of the operating system running on the device.
osPlatform|String|Platform of the operating system running on the device. Specific operating systems with variations within the same family, such as Windows 10 and Windows 11. See [TVM supported operating systems and platforms](tvm-supported-os.md) for details.
rbacGroupName|String|The role-based access control (RBAC) group. If the device isn't assigned to any RBAC group, the value will be "Unassigned." If the organization doesn't contain any RBAC groups, the value will be "None."
DataCollectionTimeOffset|String|The time the data was collected from the device. This field may not appear if no data was collected.
ComplianceCalculationTimeOffset|String|A reference to the recommendation ID related to the software.
RecommendedValue|String|Set of expected values for the current device setting to be complaint.
CurrentValue|String|Set of detected values found on the device.
Source|String|The registry path or other location used to determine the current device setting.

## 1.6 Example

### 1.6.1 Request example

```http
GET https://api.securitycenter.microsoft.com/api/machines/BaselineComplianceAssessmentByMachine
```

### 1.6.2 Response example

```json
{ 
"@odata.context": " https://api.securitycenter.microsoft.com /api/$metadata#Collection(microsoft.windowsDefenderATP.api.AssetBaselineAssessment)", 
"value": [
{ 
"id": "0000682575d5d473e82ed4d8680425d152411251_9e1b90be-e83e-485b-a5ec-4a429412e734_1.1.1", 
"configurationId": "1.1.1", 
"deviceId": "0000682575d5d473242222425d152411251", 
"deviceName": " ComputerPII_365f5c0bb7202c163937dad3d017969b2d760eb4.DomainPII_29596 ", 
"profileId": "9e1b90be-e83e-485b-a5ec-4a429412e734", 
"osPlatform": "WindowsServer2019", 
"osVersion": "10.0.17763.2330", 
"rbacGroupId": 86, 
"rbacGroupName": "UnassignedGroup", 
"isApplicable": true, 
"isCompliant": false, 
"dataCollectionTimeOffset": "2021-12-22T00:08:02.478Z", 
"recommendedValue": [ 
                "Greater than or equal '24'" 
            ], 
            "currentValue": [ 
                "24" 
            ], 
            "source": [ 
                "password_hist_len"
            ], 
}
```

## 2. Export security baselines assessment (via files)

### 2.1 API method description

Returns all security baselines assessments for all devices, on a per-device basis. It returns a table with a separate entry for every unique combination of DeviceId, ProfileId, ConfigurationId.

#### 2.1.2 Limitations

#### 2.2 Permissions

### 2.3 URL

```http
GET /api/machines/BaselineComplianceAssessmentExport
```

### 2.4 Parameters

### 2.5 Properties (via files)

Property (ID)|Data type|Description
:---|:---|:---
Export files|array[string]|A list of download URLs for files holding the current snapshot of the organization.
GeneratedTime|String|The time that the export was generated.

## 2.6 Example

### 2.6.1 Request example

```http
GET https://api.securitycenter.microsoft.com/api/machines/BaselineComplianceAssessmentExport
```

### 2.6.2 Response example

```json
{ 
    "@odata.context": "https://api.securitycenter. contoso.com/api/$metadata#microsoft.windowsDefenderATP.api.ExportFilesResponse", 
    "exportFiles": [ 
    "https://tvmexportexternalstgeus.blob.core.windows.net/temp-1ebd3d09-d06a-4aad-ab80-ebc536cec61c/2021-12-22/0500/BaselineAssessmentExport/json/OrgId= OrgId=<Org Id>/_RbacGroupId=<Rbac Group Id>/part-00000-c09dfd00-2278-4735-b23a-71733751fcbc.c000.json.gz?sv=ABCD", 
   "https://tvmexportexternalstgeus.blob.core.windows.net/temp-1ebd3d09-d06a-4aad-ab80-ebc536cec61c/2021-12-22/0500/BaselineAssessmentExport/json/OrgId=<Org Id>/_RbacGroupId=<Rbac Group Id>/part-00001-c09dfd00-2278-4735-b23a-71733751fcbc.c000.json.gz?sv= ABCD", 
    ], 

    "generatedTime": "2021-01-11T11:01:00Z" 
}
```

## See also

- [Export secure configuration assessment per device](get-assessment-secure-config.md)
- [Export software inventory assessment per device](get-assessment-software-inventory.md)
- [Export software vulnerabilities assessment per device](get-assessment-software-vulnerabilities.md)

Other related

- [Risk-based threat & vulnerability management](next-gen-threat-and-vuln-mgt.md)
- [Vulnerabilities in your organization](tvm-weaknesses.md)
