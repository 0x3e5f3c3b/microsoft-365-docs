---
title: Configure the deception feature in Microsoft 365 Defender
description: Learn how to create, edit, and delete deception rules in Microsoft 365 Defender.
keywords:  deception, defender for endpoint, Microsoft 365 Defender, Microsoft defender for endpoint, lures, fake hosts, fake users, fake network, honeypot, honeytoken, decoy, fake host, fake user, deception technology, create deception rule, modify deception rule, edit deception rule, delete deception rule
ms.service: microsoft-365-security
ms.subservice: m365d
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords: 
  - NOCSH
ms.author: diannegali
author: diannegali
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection: 
  - m365-security
  - tier1
ms.topic: conceptual
search.appverid: 
  - MOE150
  - MET150
ms.date: 11/15/2023
---
# Configure the deception feature in Microsoft 365 Defender

[!INCLUDE [Microsoft 365 Defender rebranding](../includes/microsoft-defender.md)]

**Applies to:**

- Microsoft 365 Defender

> [!NOTE]
> The [deception](deception-overview.md) feature in Microsoft 365 Defender covers all Windows clients onboarded to Microsoft Defender for Endpoint. Learn how to onboard clients to Defender for Endpoint in [Onboard to Microsoft Defender for Endpoint](/defender-for-endpoint/onboarding/).

Microsoft 365 Defender has deception technology built in to protect your environment from high-impact attacks that use human-operated lateral movement. This article describes how to configure the deception capability in Microsoft 365 Defender.

## Turn on the deception feature

The deception feature is turned off by default. To turn on deception:

1. Select **Settings** > **Endpoints**.
2. Under **General**, select **Advanced features**.
3. Look for **Deception capabilities** and toggle the switch to **On**.

[INSERT SCREENSHOT]

Once enabled, the deception feature automatically creates a default rule, which can be edited, generates decoy accounts, devices, lures, and plants these lures. While the deception feature’s scope is set to all devices in the organization, lures are planted in Windows client devices only.

[INSERT SCREENSHOT]

## Create and modify deception rules

> [!NOTE]
> Microsoft 365 Defender currently supports the creation of up to ten deception rules.

To create a deception rule, perform the following steps:

1. Navigate to **Settings** > **Endpoints**. Under **Rules**, select **Deception rules**.
2. Select **Add deception rule** on the right.
[INSERT SCREENSHOT]
3. In the rule creation pane, add a rule name, description, and select what lure types to create. You can select both [Basic and Advanced](deception-overview.md#how-does-the-deception-feature-work) lure types.
[INSERT SCREENSHOT]
4. Identify the devices where you intend to plant the lures in the scope section. You can select to plant lures in all Windows client devices or in clients with specific tags. The deception feature currently covers Windows clients.
[INSERT SCREENSHOT]
5. The deception feature then automatically generates decoy accounts and hosts in the decoys section. Generation might take a few minutes.  
6. In the decoys section, you can review, edit, or delete the automatically generated decoys. You can also add your own decoy accounts and hosts in this section. To prevent false positive detections, ensure that added hosts/IP addresses are not used by the organization.
[INSERT SCREENSHOT]
7. You can edit a decoy host’s name and the IP address where the lures will be planted in the decoys section. When adding IP addresses, we recommend using a sandbox IP if it exists in the organization. Avoid using commonly used addresses, for example, *127.0.0.1*, *10.0.0.1*, and the like.
[INSERT SCREENSHOT]
> [!CAUTION]
> To avoid false positive alerts, we highly recommend creating unique user accounts and host names when creating and editing decoy accounts and hosts. Ensure that created user accounts and hosts are unique for each deception rule and that these accounts and hosts do not exist in the organization's directory.
8. Identify if you will use autogenerated or custom lures in the lures section. Select add new lure under Use custom lures only to upload your own lure. Except .DLL and .EXE files, you can upload any file type as lure. You need to provide a lure name, the location where the lure will be planted, and tick the checkboxes to identify if the lure will be planted on all devices covered in the scope section and if you want the lure to be planted as a hidden file. If the checkboxes are left unchecked, the deception feature will automatically choose the devices where the lures will be planted as files that are not hidden.
[INSERT SCREENSHOT]
9. Review the details of the created rule in the summary section. You can edit the rule details by selecting Edit on the section that you need to modify.
[INSERT SCREENSHOT]
10. Select **Save** after reviewing.
11. The new rule appears in the Deception rules pane after successful creation. It takes approximately 12-24 hours to complete the rule creation. Check the Status column to monitor the rule creation progress.

To modify a deception rule, perform the following steps:

1. Select the rule to modify in the Deception rules pane.
[INSERT SCREENSHOT]
2. The rule details pane appears on the right. Select **Edit**.
[INSERT SCREENSHOT]
3. To turn the rule off, select **Turn off** in the editing pane.  
4. To delete a deception rule, select **Delete** in the editing pane.

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/defender-m3d-techcommunity.md)]